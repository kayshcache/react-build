(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{105:function(e,t,n){e.exports=n(123)},110:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),i=(n(110),n(24)),l=n(31),u=n(15),s=n.n(u),m=n(26),p=n(59),d=n(22),f=n(78),h=n.n(f),g=function(){return window.history.replaceState({},document.title,window.location.pathname)},E=r.a.createContext(),b=function(){return Object(a.useContext)(E)},v=function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?g:n,o=Object(p.a)(e,["children","onRedirectCallback"]),i=Object(a.useState)(),l=Object(d.a)(i,2),u=l[0],f=l[1],b=Object(a.useState)(),v=Object(d.a)(b,2),O=v[0],y=v[1],j=Object(a.useState)(),k=Object(d.a)(j,2),w=k[0],x=k[1],S=Object(a.useState)(!0),C=Object(d.a)(S,2),T=C[0],N=C[1],L=Object(a.useState)(!1),_=Object(d.a)(L,2),A=_[0],D=_[1];Object(a.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t,n,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()(o);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,f(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:i=e.sent,y(i);case 19:N(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=function(){var e=Object(m.a)(s.a.mark((function e(){var t,n,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},D(!0),e.prev=2,e.next=5,w.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,D(!1),e.finish(10);case 13:return e.next=15,w.getUser();case 15:n=e.sent,y(n),f(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,w.handleRedirectCallback();case 3:return e.next=5,w.getUser();case 5:t=e.sent,N(!1),f(!0),y(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.Provider,{value:{isAuthenticated:u,user:O,loading:T,popupOpen:A,loginWithPopup:I,handleRedirectCallback:R,getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){return w.logout.apply(w,arguments)}}},t)},O=function(e){var t=e.component,n=e.path,c=Object(p.a)(e,["component","path"]),o=b(),i=o.loading,u=o.isAuthenticated,d=o.loginWithRedirect;Object(a.useEffect)((function(){i||u||function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i,u,d,n]);return r.a.createElement(l.a,Object.assign({path:n,render:function(e){return!0===u?r.a.createElement(t,e):null}},c))},y=n(188),j=n(51),k=n(80),w=n(166),x=n(169),S=n(171),C=n(42),T=n(174),N=n(172),L=n(81),_=n.n(L),A=n(82),D=n.n(A),I=n(191),R=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function P(){var e=R(),t=b(),n=t.isAuthenticated,a=t.loginWithRedirect,c=t.logout,o=n?"Logout":"Login",l=r.a.useState({left:!1}),u=Object(d.a)(l,2),s=u[0],m=u[1],p=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&m(Object(k.a)({},s,Object(j.a)({},e,t)))}};return r.a.createElement("div",null,r.a.createElement(x.a,{position:"fixed",color:"inherit"},r.a.createElement(S.a,null,r.a.createElement(N.a,{onClick:p("left",!0),edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(_.a,null)),r.a.createElement(C.a,{variant:"h6",className:e.title},"The Things"),r.a.createElement("span",null,r.a.createElement(i.b,{to:"/profile"},"Profile")),r.a.createElement(N.a,{href:"https://github.com/kayshcache/mern-fullstack-template-v1"},r.a.createElement(D.a,null)),r.a.createElement(T.a,{onClick:function(){n?c():a({})},color:"inherit"},o))),r.a.createElement(I.a,{anchor:"left",open:s.left,onClose:p("left",!1),onOpen:p("left",!0)},"List of stuff"),r.a.createElement(S.a,null),r.a.createElement(S.a,null))}var G=function(){return r.a.createElement("footer",null,r.a.createElement("span",null,r.a.createElement(i.b,{to:"/"},"Home"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/about"},"About"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/things"},"Manage Things"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/users"},"Manage Users"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/profile"},"Profile"),"\xa0\ud83d\udc80\xa0"))},W=n(28),H=n(178),U=n(175),B=n(176),F=n(177),J=Object(w.a)((function(e){return{root:{minWidth:100,width:"100%",backgroundColor:e.palette.background.paper}}})),z=function(e){var t=e.thing,n=J();return r.a.createElement(U.a,{className:n.root},r.a.createElement(B.a,{primary:t.thingName}),r.a.createElement(F.a,null))},M=function(e){return{type:"CREATE_THING",payload:{thingName:e}}},V=function(e){return{type:"LOAD_THINGS_SUCCESS",payload:{things:e}}},Y="https://dathings.ue.r.appspot.com",Z=function(e){return function(){alert(e)}},K=function(){return function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_THINGS_IN_PROGRESS"}),e.next=4,fetch("".concat(Y,"/things"));case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,t(V(r)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"LOAD_THINGS_FAILURE"}),t(Z(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(m.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(Y,"/things/").concat(e),{method:"delete",mode:"cors"});case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,n({type:"DELETE_THING",payload:{thing:r}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(Z(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},$=Object(W.b)((function(e){return{things:e.things,isLoading:e.isLoading}}),(function(e){return{startLoadingThings:function(){return e(K())},onDeletePressed:function(t){return e(X(t))}}}))((function(e){var t=e.things,n=void 0===t?[]:t,c=e.isLoading,o=e.onDeletePressed,i=(e.onDisplayAlertClicked,e.startLoadingThings);Object(a.useEffect)((function(){i()}),[i]);var l=r.a.createElement("div",null,"Loading things..."),u=r.a.createElement(H.a,{"aria-label":"the things you want"},n.map((function(e){return r.a.createElement(z,{key:e._id,thing:e,onDeletePressed:o})})));return c?l:u})),q=n(179);function Q(){return r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h3"},"Welcome to..."),r.a.createElement(C.a,{variant:"body1"},"The joy of things awaits you. Login to discover.")),r.a.createElement($,null))}var ee=function(){return r.a.createElement("div",{className:"About"},r.a.createElement("h1",null,"About page"),r.a.createElement("p",null,"Organize your things."))};function te(){var e=b(),t=e.loading,n=e.user;return t||!n?r.a.createElement("div",null,"Loading"):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:n.picture,alt:"Profile"}),r.a.createElement("h2",null,n.name),r.a.createElement("p",null,n.email),r.a.createElement("code",null,JSON.stringify(n,null,2)))}var ne=n(185),ae=n(187),re=n(186),ce=n(181),oe=n(182),ie=n(183),le=n(184),ue=n(180);function se(e){var t=e.open,n=e.onClose;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:t},r.a.createElement(ce.a,null,"Confirm Delete Thing"),r.a.createElement(oe.a,null,r.a.createElement(ie.a,null,"Are you sure you want to delete the thing? This action cannot be undone.")),r.a.createElement(le.a,null,r.a.createElement(T.a,{onClick:function(){n(!1)},color:"primary"},"Cancel"),r.a.createElement(T.a,{variant:"contained",onClick:function(){n(!0)},color:"primary"},"Confirm"))))}var me=Object(w.a)({root:{minWidth:100},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),pe=function(e){var t=e.thing,n=e.onDeletePressed,c=me(),o=Object(a.useState)(!1),i=Object(d.a)(o,2),l=i[0],u=i[1];return r.a.createElement(q.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(ne.a,{className:c.root},r.a.createElement(re.a,null,r.a.createElement(C.a,{className:c.title,color:"textSecondary",gutterBottom:!0},"thingName: ",t.thingName),r.a.createElement(C.a,{className:c.pos,color:"textSecondary"},"Thing object:"),r.a.createElement(C.a,{variant:"body2",component:"p"},Object.entries(t).map((function(e){return r.a.createElement("span",{key:e[0]+t._id},e.join(": "),r.a.createElement("br",null))})))),r.a.createElement(ae.a,null,r.a.createElement(T.a,{size:"small",onClick:function(){u(!0)}},"Delete"),r.a.createElement(se,{open:l,onClose:function(e){u(!1),e&&n(t._id)}}))))},de=Object(W.b)((function(e){return{things:e.things,isLoading:e.isLoading}}),(function(e){return{startLoadingThings:function(){return e(K())},onDeletePressed:function(t){return e(X(t))}}}))((function(e){var t=e.things,n=void 0===t?[]:t,c=e.isLoading,o=e.onDeletePressed,i=(e.onDisplayAlertClicked,e.startLoadingThings);Object(a.useEffect)((function(){i()}),[i]);var l=r.a.createElement("div",null,"Loading things..."),u=r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(pe,{key:e._id,thing:e,onDeletePressed:o})})));return c?l:u})),fe=n(190),he=n(84),ge=n.n(he),Ee=Object(w.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),be=Object(W.b)((function(e){return{things:e.things}}),(function(e){return{onCreatePressed:function(t){return e(function(e){return function(){var t=Object(m.a)(s.a.mark((function t(n){var a,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.stringify({thingName:e}),t.next=4,fetch("".concat(Y,"/things"),{headers:{"Content-Type":"application/json"},method:"post",mode:"cors",body:a});case 4:return r=t.sent,t.next=7,r.json();case 7:c=t.sent,n(M(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(Z(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.things,n=e.onCreatePressed,c=Object(a.useState)(""),o=Object(d.a)(c,2),i=o[0],l=o[1],u=Ee();return r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(fe.a,{label:"Name a new thing",value:i,onChange:function(e){return l(e.target.value)}}),r.a.createElement(T.a,{variant:"contained",onClick:function(){t.some((function(e){return e.thingName===i||!i}))||(n(i),l(""))},className:"new-thing-button"},"Create Thing"),r.a.createElement("input",{accept:".csv",className:u.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(N.a,{"aria-label":"upload csv",component:"span"},r.a.createElement(ge.a,null))))}));function ve(){return r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h3"},"Grid of Things"),r.a.createElement(C.a,{variant:"p"},"Add to, modify, or delete these things:")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(be,null)),r.a.createElement(de,null))}var Oe=n(85),ye=n(86),je=n(94),ke=n(95),we=function(e){Object(ke.a)(n,e);var t=Object(je.a)(n);function n(){var e;return Object(Oe.a)(this,n),(e=t.call(this)).state={},e}return Object(ye.a)(n,[{key:"render",value:function(){return r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0},r.a.createElement(C.a,{variant:"h3"},"Welcome to the Things"),r.a.createElement(C.a,{variant:"p"},"Login to manage the things")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(be,null)),r.a.createElement($,null))}}]),n}(r.a.Component),xe=function(){return b().loading?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(P,null),r.a.createElement(y.a,{maxWidth:"lg"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:Q}),r.a.createElement(l.a,{path:"/about",component:ee}),r.a.createElement(O,{path:"/things",component:ve}),r.a.createElement(O,{path:"/users",component:we}),r.a.createElement(O,{path:"/profile",component:te})),r.a.createElement(G,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=n(57),Ce=n(87),Te=n(23),Ne=n(88),Le=n.n(Ne),_e=n(89),Ae=n.n(_e),De=n(90),Ie=n(91),Re={things:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CREATE_THING":var r=a.thingName;return e.concat(r);case"DELETE_THING":var c=a.thing;return e.filter((function(e){return e._id!==c._id}));case"LOAD_THINGS_SUCCESS":var o=a.things;return o;case"LOAD_THINGS_IN_PROGRESS":case"LOAD_THINGS_FAILURE":default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"LOAD_THINGS_IN_PROGRESS":return!0;case"LOAD_THINGS_SUCCESS":case"LOAD_THINGS_FAILURE":return!1;default:return e}}},Pe={key:"root",storage:Le.a,stateReconciler:Ae.a},Ge=Object(Te.combineReducers)(Re),We=Object(Se.a)(Pe,Ge),He=n(93),Ue=n(189),Be=n(92),Fe=n.n(Be),Je=n(67),ze=n(20),Me=Object(ze.a)(),Ve=Object(He.a)({palette:{type:"dark",primary:{main:"#03DAC6"},secondary:{main:"#b388ff"},background:{default:"#121212"}},status:{danger:Fe.a}}),Ye=Object(Te.createStore)(We,Object(Ie.composeWithDevTools)(Object(Te.applyMiddleware)(De.a))),Ze=Object(Se.b)(Ye);o.a.render(r.a.createElement(v,{domain:Je.domain,client_id:Je.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){Me.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(W.a,{store:Ye},r.a.createElement(Ce.PersistGate,{loading:r.a.createElement("div",null,"Loading"),persistor:Ze},r.a.createElement(Ue.a,{theme:Ve},r.a.createElement(xe,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e){e.exports=JSON.parse('{"domain":"dev-jll7g-cd.au.auth0.com","clientId":"6VLEU1tvXZHR14shwBPIN6VhAYZ7rYEl"}')}},[[105,1,2]]]);
//# sourceMappingURL=main.2a09bb1d.chunk.js.map